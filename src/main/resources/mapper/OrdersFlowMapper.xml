<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tea.server.mapper.OrdersFlowMapper">

    <select id="excelFlows" resultType="com.tea.server.entity.excel.FlowData">
        SELECT o.*
        FROM `orders_flow` o
        where o.`status`=1
        and o.`shop_id`=#{shopId}
        <if test="type !=null and type != ''">
            and o.type=#{type}
        </if>
        <if test="begin!=null and begin != ''">
            and o.create_time >=#{begin,jdbcType=TIMESTAMP}
        </if>
        <if test="end!=null and end != ''">
            and o.create_time &lt;= #{end,jdbcType=TIMESTAMP}
        </if>
        order by
        o.id
        desc
    </select>
</mapper>
